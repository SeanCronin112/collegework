<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="../static/stylesheet.css">
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    </head>
    <body>
        <table id="mytable">
            <tr>
                <th> Name </th>
                <th> Affiliation </th>
                <th> Allegiance </th> 
            </tr>
        </table>
        <script>
            $(document).ready(function (){
                $.getJSON('/allegiances', function(data){
                    console.log(data)
                    
                    data.forEach(element =>{

                        table = document.getElementById("mytable")
                        newrow = document.createElement("tr")
                        table.appendChild(newrow)

                        title = document.createElement("td")
                        title.innerHTML = element[0]
                        newrow.appendChild(title)

                        author = document.createElement("td")
                        author.innerHTML = element[1]
                        newrow.appendChild(author)

                        year = document.createElement("td")
                        year.innerHTML = element[2]
                        newrow.appendChild(year)
                   });
                });
            });
        </script>
    </body>
</html>    